<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Classificador e Detector</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.2"></script>
</head>
<body>
  <div class="nav">
    <button onclick="showSection('classificador')">ğŸ‘• Classificar</button>
    <button onclick="showSection('detector')">ğŸ” Detectar Objetos</button>
  </div>

  <section id="classificador" class="page-section hidden">
    <h1>ğŸ‘• Classificador de Roupas</h1>
    <div id="status-classificador" class="status-msg hidden">Carregando modelo...</div>

    <div class="content-wrapper hidden">
      <label class="input-label">
        <input type="file" accept="image/*" onchange="handleImageUpload(event)">
        ğŸ“ Escolher imagem
      </label>
      <button onclick="classificar()">Classificar</button>

      <div class="preview-container">
        <img id="preview" class="image-preview" />
      </div>

      <div id="label-container"></div>
    </div>
  </section>

  <section id="detector" class="page-section hidden">
    <h1>ğŸ–¼ï¸ DetecÃ§Ã£o com COCO-SSD</h1>
    <div id="status-detector" class="status-msg hidden">Carregando modelo...</div>

    <div class="content-wrapper hidden">
      <label class="input-label">
        <input type="file" id="imageUpload" accept="image/*" onchange="handleCOCOUpload(event)">
        ğŸ“ Escolher imagem
      </label>
      <button onclick="classificarCOCO()">Classificar</button>

      <div id="canvas-container"><canvas id="canvas"></canvas></div>
      <button onclick="downloadCanvas()">ğŸ“¥ Baixar Imagem com DetecÃ§Ãµes</button>
      <pre id="output"></pre>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>